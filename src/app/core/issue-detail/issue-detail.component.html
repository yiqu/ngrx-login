<div class="row my-3 py-1" id="action-row">
  <div class="col-lg-12 action-row">
    <div>
      <button type="button" class="btn btn-outline-primary" (click)="goBackToAll()">Back</button>
    </div>
    <div>
      <button type="button" class="btn btn-success" (click)="onOpenCloseToggleIssue()">
        {{issue?.open ? 'Close issue' : 'Reopen issue'}}
      </button>
    </div>
  </div>
</div>
<hr>

<ng-container *ngIf="(this.cs.issueOverallLoading$ | async)">
  <div class="row">
    <div class="col-lg-12">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="!(this.cs.issueOverallLoading$ | async)">
  <ng-container *ngIf="issue; else issueDoesNotExist">
    <div class="row pt-3">
      <div class="col-lg-12">
        <div class="title">
          {{issue?.title}}
        </div>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-lg-12">
        <div class="count">
          #{{issue?.issueNumber}}
        </div>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-lg-12">
        <div class="meta">
          <mat-chip-list class="mr-2">
            <mat-chip color="primary" selected [class]="issue?.open | openToCssClass">
              {{issue?.open | issueOpenStatusDisplay:false}}
            </mat-chip>
          </mat-chip-list>
          <div class="v-center">
            {{issue?.author}} created
            this issue on {{issue?.dateCreated | dateDisplay:'FULLANDFROMNOW'}}
          </div>
        </div>
      </div>
    </div>

    <hr>
    <div class="row">
      <div class="col-lg-12">
        <div class="desc">
          {{issue?.description}}
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>

<ng-template #issueDoesNotExist>
  <div class="row">
    <div class="col-lg-12 if fs-18 f-w-700">
      This issue does not exist anymore.
      <a [routerLink]="['/', 'issues']">Go back</a>
    </div>
  </div>
</ng-template>
